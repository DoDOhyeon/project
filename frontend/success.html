<!doctype html>

<html lang="en">

<head>

  <meta charset="UTF-8">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>후원 완료</title>

  <style>
    * {
      margin: 0;
      padding: 0;
    }

    h2,
    h3 {

      text-align: center;

      margin: 30px 0;

    }

    table {

      border-collapse: collapse;

      border: 1px solid #000;

      width: 400px;

      margin: 20px auto;

    }

    th {

      border-right: 1px solid #000;

      width: 150px;

    }

    th,
    td {

      border-bottom: 1px dashed #000;

      text-align: left;

    }
  </style>

</head>

​

<body>

  <h2>후원이 완료되었습니다.<img src="./assets/img/폭죽이모티콘.png" width="50px" height="50px"></h2>

  <h3>후원 완료</h3>

  <table border="0">
    <tr>

      <th> 후원 번호</th>

      <td id="orderId"></td>

    </tr>
    <tr>

      <th> 후원명</th>

      <td id="orderName"></td>

    </tr>
    <tr>

      <th> 결제 카드번호</th>

      <td id="card"></td>

    </tr>
    <tr>

      <th> 후원 일시</th>

      <td id="approvedAt"></td>

    </tr>
  </table>

  <script>
    let url = "http://127.0.0.1:8081/v1/api/payments/success?";
    const currentURL = new URL(window.location.href);
    const searchParams = new URLSearchParams(currentURL.search);
    url += searchParams;
    fetch(url)
        .then(response => response.json())
        .then(data => {
            document.getElementById('orderId').textContent = data.data.orderId;
            document.getElementById('orderName').textContent = data.data.orderName;
            document.getElementById('card').textContent = data.data.card.number;
            document.getElementById('approvedAt').textContent = data.data.approvedAt;
        })
        .catch(error => {
            console.error('GET 요청 오류:', error);
        });
</script>

</body>

</html>